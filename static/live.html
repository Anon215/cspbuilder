<ng-include src="'top-menu.html'"></ng-include>

<div class="container-fluid">

    <div class="row">
        <div class="col-md-4">
            <div class="text-center">
                <button type="button" class="btn btn-default" ng-disabled="live_enabled" ng-click="poll()">
                    <span class="glyphicon glyphicon-play" aria-hidden="true"></span>
                </button>
                <button type="button" class="btn btn-default" ng-disabled="!live_enabled" ng-click="live_enabled=false">
                    <span class="glyphicon glyphicon-pause" aria-hidden="true"></span>
                </button>
                <span ng-show="polling" class="glyphicon glyphicon-tint" aria-hidden="true"></span>
            </div>
        </div>
    </div>

    <div class="row">
        <table class="table table-condensed table-striped">
        <thead>
                <tr>
                    <th>Type</th>
                    <th>Source</th>
                    <th>IP</th>
                    <th>Page</th>
                    <th>Browser</th>
                    <th>Actions</th>
                </tr>
                </thead>

                <tbody>
                <tr ng-repeat="report in reports track by $index">
                    <td>{{report['csp-report']['violated-directive'].split(' ')[0]}}</td>
                    <td>{{report['csp-report']['blocked-uri']}}</td>
                    <td>{{report.meta.remote_ip}}</td>
                    <td>{{report['csp-report']['document-uri'].split('/').slice(0,3).join('/')}}</td>
                    <td>{{report.meta.user_agent}}</td>
                    <td>
                        <button>?</button>
                    </td>
                </tr>
                </tbody>

                <li>
            </table>
    </div>
</div>